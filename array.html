<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>

</body>
<script type="text/javascript">
// let a = [1,1,2,2,3,4,5]
// let b = a.filter((item, index, array) => {
//     return array.indexOf(item) === index;
// });
// console.log(a,b);
// arr = [1,2,3,4]
// var new_arr = arr.concat();
// new_arr[0] = 100;
// console.log(new_arr,arr)
// function Test() {
// 	name= 'bb'
// }
// let obj = new Test()
// console.log(obj)
// for(let key in obj) {
// 	console.log(key)
// }
// let newObj = JSON.parse(JSON.stringify(obj));
// console.log(obj)
// console.log(newObj)
// function Per(){}
// console.log(new Per())

let persons = [
    {name: '张三', age: 10},
    {name: '李四', age: 18},
    {name: '王五', age: 49}
];
// // 需求把上面三个人的年龄取出来生成一个新的数组
// // 方法一 直接遍历取
// let ages = [];
// for(let i in persons) {
//     ages.push(persons[i].age);
// }
// console.log(ages); // [10, 18, 49]
// // 方法二 用map函数处理
// let mapAges = persons.map(item => {
//     return item.age;
// })
// console.log(mapAges); // [10, 18, 49]


function myMap(arr, fn) {
    let newArr = [];
    for(let i in arr) {
        newArr.push(
            fn(arr[i])
        )
    }
    return newArr;
}
// 用myMap函数实现一下上面的需求
myMap(persons, function(item){return item.age}); // [10, 18, 49]
// 试着把写进Array.prototype原型上
Array.prototype.myMap = function(fn){
    let array = this;
    console.log(this)
    let len = array.length;
    let newArr = [];
    for(let i=0; i<len; i++){
        newArr.push(fn(array[i], i, array))
    }
    return newArr;
}
let a = persons.myMap((item, index, arr) => {return item.age}) // [10, 18, 49]
console.log(a)
</script>
</html>