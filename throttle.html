<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<input type="" name="" id="search">
</body>
<script type="text/javascript">
// function throttle(fn, gapTime) {
//   let _lastTime = null;

//   return function () {
//     let _nowTime = + new Date()
//     if (_nowTime - _lastTime > gapTime || !_lastTime) {
//       fn();
//       _lastTime = _nowTime
//     }
//   }
// }

// let fn = ()=>{
//   console.log('boom')
// }

// setInterval(throttle(fn,1000),10)
// 函数防抖才会用到timer计时器，一定事件后执行目标函数，
// 如果目标函数被重新触发，则废除当前计时器，重新启用定时器
// 同时用到了闭包的思想
function debounce(fn, wait) {
  var timer = null;
  return function () {
      var context = this
      var args = arguments
      if (timer) {
          clearTimeout(timer);
          timer = null;
      }
      timer = setTimeout(function () {
          fn.apply(context, args)
      }, wait)
  }
}

var fn =  () => {
  console.log('boom')
}

setInterval(debounce(fn,500), 1000) // 第一次在1500ms后触发，之后每1000ms触发一次



</script>
</html>